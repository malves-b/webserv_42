<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Webservinho: AutoIndexHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="webservinho_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Webservinho
   </div>
   <div id="projectbrief">A lightweight C++ HTTP server built from scratch</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classAutoIndexHandler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classAutoIndexHandler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AutoIndexHandler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="AutoIndexHandler_8hpp_source.html">dispatcher/AutoIndexHandler.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for AutoIndexHandler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classAutoIndexHandler__coll__graph.svg" width="174" height="116"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a19f63277112e5a0d50bb8d570527ce0a" id="r_a19f63277112e5a0d50bb8d570527ce0a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAutoIndexHandler.html#a19f63277112e5a0d50bb8d570527ce0a">handle</a> (<a class="el" href="classHttpRequest.html">HttpRequest</a> &amp;req, <a class="el" href="classHttpResponse.html">HttpResponse</a> &amp;res)</td></tr>
<tr class="memdesc:a19f63277112e5a0d50bb8d570527ce0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates and serves a fully hardcoded HTML directory listing.  <br /></td></tr>
<tr class="separator:a19f63277112e5a0d50bb8d570527ce0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ac79e264370e9c6576275fb315d67c5c3" id="r_ac79e264370e9c6576275fb315d67c5c3"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAutoIndexHandler.html#ac79e264370e9c6576275fb315d67c5c3">formatSize</a> (size_t size)</td></tr>
<tr class="memdesc:ac79e264370e9c6576275fb315d67c5c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a byte size into a human-readable format (B, KB, MB).  <br /></td></tr>
<tr class="separator:ac79e264370e9c6576275fb315d67c5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcbd0504c1e39bbe584d45821e7856d" id="r_a0dcbd0504c1e39bbe584d45821e7856d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAutoIndexHandler.html#a0dcbd0504c1e39bbe584d45821e7856d">replacePlaceholder</a> (std::string &amp;html, const std::string &amp;tag, const std::string &amp;value)</td></tr>
<tr class="memdesc:a0dcbd0504c1e39bbe584d45821e7856d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces a single placeholder tag in the HTML template.  <br /></td></tr>
<tr class="separator:a0dcbd0504c1e39bbe584d45821e7856d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="AutoIndexHandler_8hpp_source.html#l00008">8</a> of file <a class="el" href="AutoIndexHandler_8hpp_source.html">AutoIndexHandler.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac79e264370e9c6576275fb315d67c5c3" name="ac79e264370e9c6576275fb315d67c5c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79e264370e9c6576275fb315d67c5c3">&#9670;&#160;</a></span>formatSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string AutoIndexHandler::formatSize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a byte size into a human-readable format (B, KB, MB). </p>

<p class="definition">Definition at line <a class="el" href="AutoIndexHandler_8cpp_source.html#l00193">193</a> of file <a class="el" href="AutoIndexHandler_8cpp_source.html">AutoIndexHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  194</span>{</div>
<div class="line"><span class="lineno">  195</span>    std::stringstream ss;</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">if</span> (size &lt; 1024)</div>
<div class="line"><span class="lineno">  198</span>        ss &lt;&lt; size &lt;&lt; <span class="stringliteral">&quot; B&quot;</span>;</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size &lt; 1024 * 1024)</div>
<div class="line"><span class="lineno">  200</span>        ss &lt;&lt; (size / 1024) &lt;&lt; <span class="stringliteral">&quot; KB&quot;</span>;</div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  202</span>        ss &lt;&lt; (size / (1024 * 1024)) &lt;&lt; <span class="stringliteral">&quot; MB&quot;</span>;</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">return</span> (ss.str());</div>
<div class="line"><span class="lineno">  205</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="AutoIndexHandler_8cpp_source.html#l00035">handle()</a>.</p>

</div>
</div>
<a id="a19f63277112e5a0d50bb8d570527ce0a" name="a19f63277112e5a0d50bb8d570527ce0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f63277112e5a0d50bb8d570527ce0a">&#9670;&#160;</a></span>handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AutoIndexHandler::handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classHttpRequest.html">HttpRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classHttpResponse.html">HttpResponse</a> &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates and serves a fully hardcoded HTML directory listing. </p>
<p>This version of autoindex embeds the entire HTML template directly in the binary, removing the need to load external files. It enumerates all directory entries inside the resolved filesystem path, formats each entry into a table row, and injects the content into the HTML structure.</p>
<p>Links are generated using the normalized request path (not the raw URI), ensuring correct behavior with nested directories, trailing slashes and interactions with <code>root</code> mappings. Each regular file includes a delete button that triggers a JavaScript DELETE request.</p>
<p>The resulting HTML page is fully compliant, styled and self-contained.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>Reference to the parsed <a class="el" href="classHttpRequest.html">HttpRequest</a> object. </td></tr>
    <tr><td class="paramname">res</td><td>Reference to the <a class="el" href="classHttpResponse.html">HttpResponse</a> to be populated and returned. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="AutoIndexHandler_8cpp_source.html#l00035">35</a> of file <a class="el" href="AutoIndexHandler_8cpp_source.html">AutoIndexHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_function" href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a>().<a class="code hl_function" href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">log</a>(<a class="code hl_enumvalue" href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f">DEBUG</a>, <span class="stringliteral">&quot;[Started] AutoIndexHandler::handle&quot;</span>);</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordflow">if</span> (req.<a class="code hl_function" href="classHttpRequest.html#a5e8c184f323f39e36f2bb681554bc171">getMethod</a>() != <a class="code hl_enumvalue" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaae25257890235f999204793748f1752c9">RequestMethod::GET</a> &amp;&amp; req.<a class="code hl_function" href="classHttpRequest.html#a5e8c184f323f39e36f2bb681554bc171">getMethod</a>() != <a class="code hl_enumvalue" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaa09fa7008f5743d6df1ae60704c094e2e">RequestMethod::HEAD</a>)</div>
<div class="line"><span class="lineno">   40</span>    {</div>
<div class="line"><span class="lineno">   41</span>        std::string html = <span class="stringliteral">&quot;&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;h1&gt;405 Method Not Allowed&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   42</span>        res.<a class="code hl_function" href="classHttpResponse.html#af02b3b82a638bfbf23226b9f3bf06843">setStatusCode</a>(<a class="code hl_enumvalue" href="structResponseStatus.html#ae7b198934cf232d13b16bfe0c216e076a5b393d65c3ee3ada19d5fcd6a96f9915">ResponseStatus::MethodNotAllowed</a>);</div>
<div class="line"><span class="lineno">   43</span>        res.<a class="code hl_function" href="classHttpResponse.html#abb032c16ad3961d50a6582c50c330581">addHeader</a>(<span class="stringliteral">&quot;Allow&quot;</span>, <span class="stringliteral">&quot;GET, HEAD&quot;</span>);</div>
<div class="line"><span class="lineno">   44</span>        res.<a class="code hl_function" href="classHttpResponse.html#abb032c16ad3961d50a6582c50c330581">addHeader</a>(<span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/html&quot;</span>);</div>
<div class="line"><span class="lineno">   45</span>        res.<a class="code hl_function" href="classHttpResponse.html#abb032c16ad3961d50a6582c50c330581">addHeader</a>(<span class="stringliteral">&quot;Content-Length&quot;</span>, <a class="code hl_function" href="string__utils_8hpp.html#ad735976365693b45c427000fe042e173">toString</a>(html.size()));</div>
<div class="line"><span class="lineno">   46</span>        res.<a class="code hl_function" href="classHttpResponse.html#a22352917aff72615ead5686b7e7b09b8">appendBody</a>(html);</div>
<div class="line"><span class="lineno">   47</span>        <a class="code hl_function" href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a>().<a class="code hl_function" href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">log</a>(<a class="code hl_enumvalue" href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f">DEBUG</a>, <span class="stringliteral">&quot;[Finished] AutoIndexHandler::handle&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span>        return ;</div>
<div class="line"><span class="lineno">   49</span>    }</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>    std::string resolvedPath = req.<a class="code hl_function" href="classHttpRequest.html#a9cd740d746bcd7fa6e4fcb8c537879ad">getResolvedPath</a>();</div>
<div class="line"><span class="lineno">   52</span>    std::string uri = req.<a class="code hl_function" href="classHttpRequest.html#a658d90f4dd4080c30c99c463c082abc8">getUri</a>();</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">if</span> (uri.empty() || uri[uri.size() - 1] != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno">   55</span>        uri += <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>    DIR* dir = opendir(resolvedPath.c_str());</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> (dir == NULL)</div>
<div class="line"><span class="lineno">   60</span>    {</div>
<div class="line"><span class="lineno">   61</span>        <a class="code hl_function" href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a>().<a class="code hl_function" href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">log</a>(<a class="code hl_enumvalue" href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a2fd6f336d08340583bd620a7f5694c90">ERROR</a>, <span class="stringliteral">&quot;AutoIndexHandler: Failed to open directory: &quot;</span> + resolvedPath);</div>
<div class="line"><span class="lineno">   62</span>        res.<a class="code hl_function" href="classHttpResponse.html#af02b3b82a638bfbf23226b9f3bf06843">setStatusCode</a>(<a class="code hl_enumvalue" href="structResponseStatus.html#ae7b198934cf232d13b16bfe0c216e076a2baef179f39ba9b5b8b86965b0684ae1">ResponseStatus::InternalServerError</a>);</div>
<div class="line"><span class="lineno">   63</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   64</span>    }</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    std::string content;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keyword">struct </span>dirent* entry;</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">while</span> ((entry = readdir(dir)) != NULL)</div>
<div class="line"><span class="lineno">   70</span>    {</div>
<div class="line"><span class="lineno">   71</span>        std::string name = entry-&gt;d_name;</div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;.&quot;</span> || name == <span class="stringliteral">&quot;..&quot;</span>)</div>
<div class="line"><span class="lineno">   73</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>        std::string fullPath = resolvedPath + <span class="stringliteral">&quot;/&quot;</span> + name;</div>
<div class="line"><span class="lineno">   76</span>        <span class="keyword">struct </span>stat fileStat;</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">if</span> (stat(fullPath.c_str(), &amp;fileStat) != 0)</div>
<div class="line"><span class="lineno">   79</span>        {</div>
<div class="line"><span class="lineno">   80</span>            <a class="code hl_function" href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a>().<a class="code hl_function" href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">log</a>(<a class="code hl_enumvalue" href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a984de77c680eaff141ec910e25568a81">WARNING</a>, <span class="stringliteral">&quot;AutoIndexHandler: Unable to stat file: &quot;</span> + fullPath);</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   82</span>        }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordtype">bool</span> isDir = S_ISDIR(fileStat.st_mode);</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordtype">char</span> dateBuf[100];</div>
<div class="line"><span class="lineno">   87</span>        time_t modTime = fileStat.st_mtime;</div>
<div class="line"><span class="lineno">   88</span>        <span class="keyword">struct </span>tm* timeInfo = localtime(&amp;modTime);</div>
<div class="line"><span class="lineno">   89</span>        strftime(dateBuf, <span class="keyword">sizeof</span>(dateBuf), <span class="stringliteral">&quot;%d-%b-%Y %H:%M&quot;</span>, timeInfo);</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>        std::string sizeStr = isDir ? <span class="stringliteral">&quot;-&quot;</span> : <a class="code hl_function" href="classAutoIndexHandler.html#ac79e264370e9c6576275fb315d67c5c3">formatSize</a>(fileStat.st_size);</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>        content += <span class="stringliteral">&quot;&lt;tr&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   94</span>        content += <span class="stringliteral">&quot;&lt;td&gt;&lt;a href=\&quot;&quot;</span> + uri + name + (isDir ? <span class="stringliteral">&quot;/&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;\&quot;&gt;&quot;</span></div>
<div class="line"><span class="lineno">   95</span>                    + name + (isDir ? <span class="stringliteral">&quot;/&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) + <span class="stringliteral">&quot;&lt;/a&gt;&lt;/td&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   96</span>        content += <span class="stringliteral">&quot;&lt;td&gt;&quot;</span> + std::string(dateBuf) + <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   97</span>        content += <span class="stringliteral">&quot;&lt;td class=\&quot;size\&quot;&gt;&quot;</span> + sizeStr + <span class="stringliteral">&quot;&lt;/td&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">if</span> (!isDir)</div>
<div class="line"><span class="lineno">  100</span>        {</div>
<div class="line"><span class="lineno">  101</span>            std::string encoded = <a class="code hl_function" href="string__utils_8hpp.html#a4408f0c67e5adf4b8c58c34229e68775">uriEncode</a>(name);</div>
<div class="line"><span class="lineno">  102</span>            content += <span class="stringliteral">&quot;&lt;td&gt;&lt;button onclick=\&quot;deleteFile(&#39;&quot;</span> + uri + encoded + <span class="stringliteral">&quot;&#39;)\&quot;&gt;Delete&lt;/button&gt;&lt;/td&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  103</span>        }</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  105</span>        {</div>
<div class="line"><span class="lineno">  106</span>            content += <span class="stringliteral">&quot;&lt;td&gt;-&lt;/td&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  107</span>        }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        content += <span class="stringliteral">&quot;&lt;/tr&gt;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  110</span>    }</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    closedir(dir);</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    std::string html =</div>
<div class="line"><span class="lineno">  115</span>        <span class="stringliteral">&quot;&lt;!doctype html&gt;&quot;</span></div>
<div class="line"><span class="lineno">  116</span>        <span class="stringliteral">&quot;&lt;html lang=\&quot;en\&quot;&gt;&quot;</span></div>
<div class="line"><span class="lineno">  117</span>        <span class="stringliteral">&quot;&lt;head&gt;&quot;</span></div>
<div class="line"><span class="lineno">  118</span>        <span class="stringliteral">&quot;  &lt;meta charset=\&quot;utf-8\&quot;&gt;&quot;</span></div>
<div class="line"><span class="lineno">  119</span>        <span class="stringliteral">&quot;  &lt;title&gt;Index of {PATH}&lt;/title&gt;&quot;</span></div>
<div class="line"><span class="lineno">  120</span>        <span class="stringliteral">&quot;  &lt;style&gt;&quot;</span></div>
<div class="line"><span class="lineno">  121</span>        <span class="stringliteral">&quot;    body { font-family: &#39;Comic Sans MS&#39;, Arial, sans-serif; background: #b7d1f8; text-align: center; }&quot;</span></div>
<div class="line"><span class="lineno">  122</span>        <span class="stringliteral">&quot;    .wrapper { background: #fff; padding: 20px; margin: 20px auto; width: 900px;&quot;</span></div>
<div class="line"><span class="lineno">  123</span>        <span class="stringliteral">&quot;               box-shadow: 0 0 0 4px #000, 0 0 0 8px #ff00ff; }&quot;</span></div>
<div class="line"><span class="lineno">  124</span>        <span class="stringliteral">&quot;    table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #fafafa; }&quot;</span></div>
<div class="line"><span class="lineno">  125</span>        <span class="stringliteral">&quot;    th, td { border: 2px dashed #999; padding: 8px; }&quot;</span></div>
<div class="line"><span class="lineno">  126</span>        <span class="stringliteral">&quot;    th { background: #ffff00; font-weight: bold; }&quot;</span></div>
<div class="line"><span class="lineno">  127</span>        <span class="stringliteral">&quot;    tr:nth-child(even) { background: #f0f0f0; }&quot;</span></div>
<div class="line"><span class="lineno">  128</span>        <span class="stringliteral">&quot;    a { text-decoration: none; color: #000; font-weight: bold; }&quot;</span></div>
<div class="line"><span class="lineno">  129</span>        <span class="stringliteral">&quot;    a:hover { color: #ff00ff; }&quot;</span></div>
<div class="line"><span class="lineno">  130</span>        <span class="stringliteral">&quot;    button { background: #ff00ff; color: #fff; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px; }&quot;</span></div>
<div class="line"><span class="lineno">  131</span>        <span class="stringliteral">&quot;    button:hover { background: #cc00cc; }&quot;</span></div>
<div class="line"><span class="lineno">  132</span>        <span class="stringliteral">&quot;    hr { border: 0; border-top: 2px dashed #999; margin: 20px 0; }&quot;</span></div>
<div class="line"><span class="lineno">  133</span>        <span class="stringliteral">&quot;    address { font-size: 12px; margin-top: 10px; }&quot;</span></div>
<div class="line"><span class="lineno">  134</span>        <span class="stringliteral">&quot;  &lt;/style&gt;&quot;</span></div>
<div class="line"><span class="lineno">  135</span>        <span class="stringliteral">&quot;&lt;/head&gt;&quot;</span></div>
<div class="line"><span class="lineno">  136</span>        <span class="stringliteral">&quot;&lt;body&gt;&quot;</span></div>
<div class="line"><span class="lineno">  137</span>        <span class="stringliteral">&quot;  &lt;div class=\&quot;wrapper\&quot;&gt;&quot;</span></div>
<div class="line"><span class="lineno">  138</span>        <span class="stringliteral">&quot;    &lt;h1&gt;Index of {PATH}&lt;/h1&gt;&quot;</span></div>
<div class="line"><span class="lineno">  139</span>        <span class="stringliteral">&quot;    &lt;img src=\&quot;/img/webservinho_logo.png\&quot; alt=\&quot;webservinho logo\&quot; width=\&quot;200\&quot;&gt;&quot;</span></div>
<div class="line"><span class="lineno">  140</span>        <span class="stringliteral">&quot;    &lt;table&gt;&quot;</span></div>
<div class="line"><span class="lineno">  141</span>        <span class="stringliteral">&quot;      &lt;thead&gt;&quot;</span></div>
<div class="line"><span class="lineno">  142</span>        <span class="stringliteral">&quot;        &lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Last Modified&lt;/th&gt;&lt;th&gt;Size&lt;/th&gt;&lt;th&gt;Actions&lt;/th&gt;&lt;/tr&gt;&quot;</span></div>
<div class="line"><span class="lineno">  143</span>        <span class="stringliteral">&quot;      &lt;/thead&gt;&quot;</span></div>
<div class="line"><span class="lineno">  144</span>        <span class="stringliteral">&quot;      &lt;tbody&gt;&quot;</span></div>
<div class="line"><span class="lineno">  145</span>        <span class="stringliteral">&quot;        {CONTENT}&quot;</span></div>
<div class="line"><span class="lineno">  146</span>        <span class="stringliteral">&quot;      &lt;/tbody&gt;&quot;</span></div>
<div class="line"><span class="lineno">  147</span>        <span class="stringliteral">&quot;    &lt;/table&gt;&quot;</span></div>
<div class="line"><span class="lineno">  148</span>        <span class="stringliteral">&quot;    &lt;hr&gt;&quot;</span></div>
<div class="line"><span class="lineno">  149</span>        <span class="stringliteral">&quot;    &lt;address&gt;{SERVER_INFO}&lt;/address&gt;&quot;</span></div>
<div class="line"><span class="lineno">  150</span>        <span class="stringliteral">&quot;  &lt;/div&gt;&quot;</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  152</span>        <span class="stringliteral">&quot;  &lt;script&gt;&quot;</span></div>
<div class="line"><span class="lineno">  153</span>        <span class="stringliteral">&quot;    async function deleteFile(path) {&quot;</span></div>
<div class="line"><span class="lineno">  154</span>        <span class="stringliteral">&quot;      if (!confirm(&#39;Delete &#39; + path + &#39; ?&#39;)) return;&quot;</span></div>
<div class="line"><span class="lineno">  155</span>        <span class="stringliteral">&quot;      try {&quot;</span></div>
<div class="line"><span class="lineno">  156</span>        <span class="stringliteral">&quot;        const res = await fetch(path, { method: &#39;DELETE&#39; });&quot;</span></div>
<div class="line"><span class="lineno">  157</span>        <span class="stringliteral">&quot;        if (res.ok) { alert(&#39;Deleted successfully!&#39;); location.reload(); }&quot;</span></div>
<div class="line"><span class="lineno">  158</span>        <span class="stringliteral">&quot;        else alert(&#39;Failed (&#39; + res.status + &#39;)&#39;);&quot;</span></div>
<div class="line"><span class="lineno">  159</span>        <span class="stringliteral">&quot;      } catch (e) { alert(&#39;Error: &#39; + e); }&quot;</span></div>
<div class="line"><span class="lineno">  160</span>        <span class="stringliteral">&quot;    }&quot;</span></div>
<div class="line"><span class="lineno">  161</span>        <span class="stringliteral">&quot;  &lt;/script&gt;&quot;</span></div>
<div class="line"><span class="lineno">  162</span>        <span class="stringliteral">&quot;&lt;/body&gt;&quot;</span></div>
<div class="line"><span class="lineno">  163</span>        <span class="stringliteral">&quot;&lt;/html&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <a class="code hl_function" href="classAutoIndexHandler.html#a0dcbd0504c1e39bbe584d45821e7856d">replacePlaceholder</a>(html, <span class="stringliteral">&quot;{PATH}&quot;</span>, uri);</div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_function" href="classAutoIndexHandler.html#a0dcbd0504c1e39bbe584d45821e7856d">replacePlaceholder</a>(html, <span class="stringliteral">&quot;{PATH}&quot;</span>, uri);</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_function" href="classAutoIndexHandler.html#a0dcbd0504c1e39bbe584d45821e7856d">replacePlaceholder</a>(html, <span class="stringliteral">&quot;{CONTENT}&quot;</span>, content);</div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_function" href="classAutoIndexHandler.html#a0dcbd0504c1e39bbe584d45821e7856d">replacePlaceholder</a>(html, <span class="stringliteral">&quot;{SERVER_INFO}&quot;</span>, <span class="stringliteral">&quot;WebServinho/1.0&quot;</span>);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    res.<a class="code hl_function" href="classHttpResponse.html#a22352917aff72615ead5686b7e7b09b8">appendBody</a>(html);</div>
<div class="line"><span class="lineno">  171</span>    res.<a class="code hl_function" href="classHttpResponse.html#abb032c16ad3961d50a6582c50c330581">addHeader</a>(<span class="stringliteral">&quot;Content-Type&quot;</span>, <span class="stringliteral">&quot;text/html&quot;</span>);</div>
<div class="line"><span class="lineno">  172</span>    res.<a class="code hl_function" href="classHttpResponse.html#abb032c16ad3961d50a6582c50c330581">addHeader</a>(<span class="stringliteral">&quot;Content-Length&quot;</span>, <a class="code hl_function" href="string__utils_8hpp.html#ad735976365693b45c427000fe042e173">toString</a>(html.size()));</div>
<div class="line"><span class="lineno">  173</span>    res.<a class="code hl_function" href="classHttpResponse.html#af02b3b82a638bfbf23226b9f3bf06843">setStatusCode</a>(<a class="code hl_enumvalue" href="structResponseStatus.html#ae7b198934cf232d13b16bfe0c216e076a0d72fdb68264021efa70cc978c438cae">ResponseStatus::OK</a>);</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_function" href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a>().<a class="code hl_function" href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">log</a>(<a class="code hl_enumvalue" href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f">DEBUG</a>, <span class="stringliteral">&quot;[Finished] AutoIndexHandler::handle&quot;</span>);</div>
<div class="line"><span class="lineno">  176</span>}</div>
<div class="ttc" id="aLogger_8hpp_html_aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f"><div class="ttname"><a href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f">DEBUG</a></div><div class="ttdeci">@ DEBUG</div><div class="ttdef"><b>Definition</b> <a href="Logger_8hpp_source.html#l00015">Logger.hpp:15</a></div></div>
<div class="ttc" id="aLogger_8hpp_html_aca1fd1d8935433e6ba2e3918214e07f9a2fd6f336d08340583bd620a7f5694c90"><div class="ttname"><a href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a2fd6f336d08340583bd620a7f5694c90">ERROR</a></div><div class="ttdeci">@ ERROR</div><div class="ttdef"><b>Definition</b> <a href="Logger_8hpp_source.html#l00018">Logger.hpp:18</a></div></div>
<div class="ttc" id="aLogger_8hpp_html_aca1fd1d8935433e6ba2e3918214e07f9a984de77c680eaff141ec910e25568a81"><div class="ttname"><a href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a984de77c680eaff141ec910e25568a81">WARNING</a></div><div class="ttdeci">@ WARNING</div><div class="ttdef"><b>Definition</b> <a href="Logger_8hpp_source.html#l00017">Logger.hpp:17</a></div></div>
<div class="ttc" id="aclassAutoIndexHandler_html_a0dcbd0504c1e39bbe584d45821e7856d"><div class="ttname"><a href="classAutoIndexHandler.html#a0dcbd0504c1e39bbe584d45821e7856d">AutoIndexHandler::replacePlaceholder</a></div><div class="ttdeci">static void replacePlaceholder(std::string &amp;html, const std::string &amp;tag, const std::string &amp;value)</div><div class="ttdoc">Replaces a single placeholder tag in the HTML template.</div><div class="ttdef"><b>Definition</b> <a href="AutoIndexHandler_8cpp_source.html#l00183">AutoIndexHandler.cpp:183</a></div></div>
<div class="ttc" id="aclassAutoIndexHandler_html_ac79e264370e9c6576275fb315d67c5c3"><div class="ttname"><a href="classAutoIndexHandler.html#ac79e264370e9c6576275fb315d67c5c3">AutoIndexHandler::formatSize</a></div><div class="ttdeci">static std::string formatSize(size_t size)</div><div class="ttdoc">Converts a byte size into a human-readable format (B, KB, MB).</div><div class="ttdef"><b>Definition</b> <a href="AutoIndexHandler_8cpp_source.html#l00193">AutoIndexHandler.cpp:193</a></div></div>
<div class="ttc" id="aclassHttpRequest_html_a5e8c184f323f39e36f2bb681554bc171"><div class="ttname"><a href="classHttpRequest.html#a5e8c184f323f39e36f2bb681554bc171">HttpRequest::getMethod</a></div><div class="ttdeci">RequestMethod::Method getMethod(void) const</div><div class="ttdoc">Returns the current HTTP method.</div><div class="ttdef"><b>Definition</b> <a href="HttpRequest_8cpp_source.html#l00183">HttpRequest.cpp:183</a></div></div>
<div class="ttc" id="aclassHttpRequest_html_a658d90f4dd4080c30c99c463c082abc8"><div class="ttname"><a href="classHttpRequest.html#a658d90f4dd4080c30c99c463c082abc8">HttpRequest::getUri</a></div><div class="ttdeci">const std::string &amp; getUri(void) const</div><div class="ttdef"><b>Definition</b> <a href="HttpRequest_8cpp_source.html#l00218">HttpRequest.cpp:218</a></div></div>
<div class="ttc" id="aclassHttpRequest_html_a9cd740d746bcd7fa6e4fcb8c537879ad"><div class="ttname"><a href="classHttpRequest.html#a9cd740d746bcd7fa6e4fcb8c537879ad">HttpRequest::getResolvedPath</a></div><div class="ttdeci">const std::string getResolvedPath(void) const</div><div class="ttdoc">Returns the resolved filesystem path corresponding to the URI.</div><div class="ttdef"><b>Definition</b> <a href="HttpRequest_8cpp_source.html#l00328">HttpRequest.cpp:328</a></div></div>
<div class="ttc" id="aclassHttpResponse_html_a22352917aff72615ead5686b7e7b09b8"><div class="ttname"><a href="classHttpResponse.html#a22352917aff72615ead5686b7e7b09b8">HttpResponse::appendBody</a></div><div class="ttdeci">void appendBody(const std::string &amp;body)</div><div class="ttdoc">Appends text data to the response body.</div><div class="ttdef"><b>Definition</b> <a href="HttpResponse_8cpp_source.html#l00049">HttpResponse.cpp:49</a></div></div>
<div class="ttc" id="aclassHttpResponse_html_abb032c16ad3961d50a6582c50c330581"><div class="ttname"><a href="classHttpResponse.html#abb032c16ad3961d50a6582c50c330581">HttpResponse::addHeader</a></div><div class="ttdeci">void addHeader(const std::string &amp;name, const std::string &amp;value)</div><div class="ttdoc">Adds a header field to the HTTP response.</div><div class="ttdef"><b>Definition</b> <a href="HttpResponse_8cpp_source.html#l00067">HttpResponse.cpp:67</a></div></div>
<div class="ttc" id="aclassHttpResponse_html_af02b3b82a638bfbf23226b9f3bf06843"><div class="ttname"><a href="classHttpResponse.html#af02b3b82a638bfbf23226b9f3bf06843">HttpResponse::setStatusCode</a></div><div class="ttdeci">void setStatusCode(const ResponseStatus::code &amp;code)</div><div class="ttdoc">Sets the HTTP status code and updates the corresponding reason phrase.</div><div class="ttdef"><b>Definition</b> <a href="HttpResponse_8cpp_source.html#l00024">HttpResponse.cpp:24</a></div></div>
<div class="ttc" id="aclassLogger_html_a3d3f0801eeaf39b33a906ea8569c19b2"><div class="ttname"><a href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">Logger::log</a></div><div class="ttdeci">void log(LogLevel level, const std::string &amp;message)</div><div class="ttdoc">Writes a log entry with timestamp, level, and message.</div><div class="ttdef"><b>Definition</b> <a href="Logger_8cpp_source.html#l00051">Logger.cpp:51</a></div></div>
<div class="ttc" id="aclassLogger_html_a4aa4d7c3b98f6e12e7ea8253da5ea0cd"><div class="ttname"><a href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a></div><div class="ttdeci">static Logger &amp; instance()</div><div class="ttdoc">Returns the singleton instance of the Logger.</div><div class="ttdef"><b>Definition</b> <a href="Logger_8cpp_source.html#l00037">Logger.cpp:37</a></div></div>
<div class="ttc" id="astring__utils_8hpp_html_a4408f0c67e5adf4b8c58c34229e68775"><div class="ttname"><a href="string__utils_8hpp.html#a4408f0c67e5adf4b8c58c34229e68775">uriEncode</a></div><div class="ttdeci">static std::string uriEncode(const std::string &amp;s)</div><div class="ttdoc">Encodes a string for safe inclusion in a URI (percent-encoding).</div><div class="ttdef"><b>Definition</b> <a href="string__utils_8hpp_source.html#l00195">string_utils.hpp:195</a></div></div>
<div class="ttc" id="astring__utils_8hpp_html_ad735976365693b45c427000fe042e173"><div class="ttname"><a href="string__utils_8hpp.html#ad735976365693b45c427000fe042e173">toString</a></div><div class="ttdeci">std::string toString(T value)</div><div class="ttdoc">Converts any printable type to a string representation.</div><div class="ttdef"><b>Definition</b> <a href="string__utils_8hpp_source.html#l00112">string_utils.hpp:112</a></div></div>
<div class="ttc" id="astructRequestMethod_html_a63081603a32a15207a690e0ddd2bc0eaa09fa7008f5743d6df1ae60704c094e2e"><div class="ttname"><a href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaa09fa7008f5743d6df1ae60704c094e2e">RequestMethod::HEAD</a></div><div class="ttdeci">@ HEAD</div><div class="ttdef"><b>Definition</b> <a href="RequestMethod_8hpp_source.html#l00029">RequestMethod.hpp:29</a></div></div>
<div class="ttc" id="astructRequestMethod_html_a63081603a32a15207a690e0ddd2bc0eaae25257890235f999204793748f1752c9"><div class="ttname"><a href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaae25257890235f999204793748f1752c9">RequestMethod::GET</a></div><div class="ttdeci">@ GET</div><div class="ttdef"><b>Definition</b> <a href="RequestMethod_8hpp_source.html#l00028">RequestMethod.hpp:28</a></div></div>
<div class="ttc" id="astructResponseStatus_html_ae7b198934cf232d13b16bfe0c216e076a0d72fdb68264021efa70cc978c438cae"><div class="ttname"><a href="structResponseStatus.html#ae7b198934cf232d13b16bfe0c216e076a0d72fdb68264021efa70cc978c438cae">ResponseStatus::OK</a></div><div class="ttdeci">@ OK</div><div class="ttdef"><b>Definition</b> <a href="ResponseStatus_8hpp_source.html#l00027">ResponseStatus.hpp:27</a></div></div>
<div class="ttc" id="astructResponseStatus_html_ae7b198934cf232d13b16bfe0c216e076a2baef179f39ba9b5b8b86965b0684ae1"><div class="ttname"><a href="structResponseStatus.html#ae7b198934cf232d13b16bfe0c216e076a2baef179f39ba9b5b8b86965b0684ae1">ResponseStatus::InternalServerError</a></div><div class="ttdeci">@ InternalServerError</div><div class="ttdef"><b>Definition</b> <a href="ResponseStatus_8hpp_source.html#l00055">ResponseStatus.hpp:55</a></div></div>
<div class="ttc" id="astructResponseStatus_html_ae7b198934cf232d13b16bfe0c216e076a5b393d65c3ee3ada19d5fcd6a96f9915"><div class="ttname"><a href="structResponseStatus.html#ae7b198934cf232d13b16bfe0c216e076a5b393d65c3ee3ada19d5fcd6a96f9915">ResponseStatus::MethodNotAllowed</a></div><div class="ttdeci">@ MethodNotAllowed</div><div class="ttdef"><b>Definition</b> <a href="ResponseStatus_8hpp_source.html#l00045">ResponseStatus.hpp:45</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="HttpResponse_8cpp_source.html#l00067">HttpResponse::addHeader()</a>, <a class="el" href="HttpResponse_8cpp_source.html#l00049">HttpResponse::appendBody()</a>, <a class="el" href="Logger_8hpp_source.html#l00015">DEBUG</a>, <a class="el" href="Logger_8hpp_source.html#l00018">ERROR</a>, <a class="el" href="AutoIndexHandler_8cpp_source.html#l00193">formatSize()</a>, <a class="el" href="RequestMethod_8hpp_source.html#l00028">RequestMethod::GET</a>, <a class="el" href="HttpRequest_8cpp_source.html#l00183">HttpRequest::getMethod()</a>, <a class="el" href="HttpRequest_8cpp_source.html#l00328">HttpRequest::getResolvedPath()</a>, <a class="el" href="HttpRequest_8cpp_source.html#l00218">HttpRequest::getUri()</a>, <a class="el" href="RequestMethod_8hpp_source.html#l00029">RequestMethod::HEAD</a>, <a class="el" href="Logger_8cpp_source.html#l00037">Logger::instance()</a>, <a class="el" href="ResponseStatus_8hpp_source.html#l00055">ResponseStatus::InternalServerError</a>, <a class="el" href="Logger_8cpp_source.html#l00051">Logger::log()</a>, <a class="el" href="ResponseStatus_8hpp_source.html#l00045">ResponseStatus::MethodNotAllowed</a>, <a class="el" href="ResponseStatus_8hpp_source.html#l00027">ResponseStatus::OK</a>, <a class="el" href="AutoIndexHandler_8cpp_source.html#l00183">replacePlaceholder()</a>, <a class="el" href="HttpResponse_8cpp_source.html#l00024">HttpResponse::setStatusCode()</a>, <a class="el" href="string__utils_8hpp_source.html#l00112">toString()</a>, <a class="el" href="string__utils_8hpp_source.html#l00195">uriEncode()</a>, and <a class="el" href="Logger_8hpp_source.html#l00017">WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="Dispatcher_8cpp_source.html#l00030">Dispatcher::dispatch()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classAutoIndexHandler_a19f63277112e5a0d50bb8d570527ce0a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0dcbd0504c1e39bbe584d45821e7856d" name="a0dcbd0504c1e39bbe584d45821e7856d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dcbd0504c1e39bbe584d45821e7856d">&#9670;&#160;</a></span>replacePlaceholder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AutoIndexHandler::replacePlaceholder </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>html</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replaces a single placeholder tag in the HTML template. </p>
<p>Only replaces the first occurrence found. </p>

<p class="definition">Definition at line <a class="el" href="AutoIndexHandler_8cpp_source.html#l00183">183</a> of file <a class="el" href="AutoIndexHandler_8cpp_source.html">AutoIndexHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span>{</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordtype">size_t</span> pos = html.find(tag);</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> (pos != std::string::npos)</div>
<div class="line"><span class="lineno">  187</span>        html.replace(pos, tag.size(), value);</div>
<div class="line"><span class="lineno">  188</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="AutoIndexHandler_8cpp_source.html#l00035">handle()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>dispatcher/<a class="el" href="AutoIndexHandler_8hpp_source.html">AutoIndexHandler.hpp</a></li>
<li>dispatcher/<a class="el" href="AutoIndexHandler_8cpp_source.html">AutoIndexHandler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classAutoIndexHandler.html">AutoIndexHandler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
