<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Webservinho: ConfigParser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="webservinho_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Webservinho
   </div>
   <div id="projectbrief">A lightweight C++ HTTP server built from scratch</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classConfigParser.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classConfigParser-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ConfigParser Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ConfigParser_8hpp_source.html">config/ConfigParser.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for ConfigParser:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classConfigParser__coll__graph.svg" width="184" height="316"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a37f7f2df580ba720a140bd0fa7b6598c" id="r_a37f7f2df580ba720a140bd0fa7b6598c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classConfig.html">Config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a37f7f2df580ba720a140bd0fa7b6598c">parseFile</a> (std::string const &amp;configFile)</td></tr>
<tr class="memdesc:a37f7f2df580ba720a140bd0fa7b6598c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the entire configuration file and returns a populated <a class="el" href="classConfig.html">Config</a> object.  <br /></td></tr>
<tr class="separator:a37f7f2df580ba720a140bd0fa7b6598c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a51c63698259aa32bb12f0321ee1c8f4c" id="r_a51c63698259aa32bb12f0321ee1c8f4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a51c63698259aa32bb12f0321ee1c8f4c">ConfigParser</a> (<a class="el" href="classConfigParser.html">ConfigParser</a> const &amp;src)</td></tr>
<tr class="separator:a51c63698259aa32bb12f0321ee1c8f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f9975a5c5ff3b3e3b81dad6a14626a" id="r_aa5f9975a5c5ff3b3e3b81dad6a14626a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#aa5f9975a5c5ff3b3e3b81dad6a14626a">ConfigParser</a> (std::string file)</td></tr>
<tr class="separator:aa5f9975a5c5ff3b3e3b81dad6a14626a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93ae32753d21a8d02994c071072f726" id="r_ac93ae32753d21a8d02994c071072f726"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classConfigParser.html">ConfigParser</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#ac93ae32753d21a8d02994c071072f726">operator=</a> (<a class="el" href="classConfigParser.html">ConfigParser</a> const &amp;rhs)</td></tr>
<tr class="separator:ac93ae32753d21a8d02994c071072f726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f7d3d9e696f9eb3bb1f3ec1bde572b" id="r_a09f7d3d9e696f9eb3bb1f3ec1bde572b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a09f7d3d9e696f9eb3bb1f3ec1bde572b">~ConfigParser</a> (void)</td></tr>
<tr class="separator:a09f7d3d9e696f9eb3bb1f3ec1bde572b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:adf8ee0cc8bf8ce59570f9af8e70168b5" id="r_adf8ee0cc8bf8ce59570f9af8e70168b5"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#adf8ee0cc8bf8ce59570f9af8e70168b5">cleanConfigFile</a> (std::ifstream &amp;file)</td></tr>
<tr class="memdesc:adf8ee0cc8bf8ce59570f9af8e70168b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a configuration file and removes comments and uppercase letters.  <br /></td></tr>
<tr class="separator:adf8ee0cc8bf8ce59570f9af8e70168b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6188c94ab0c7f0e867d5ffa2a5efb17e" id="r_a6188c94ab0c7f0e867d5ffa2a5efb17e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a6188c94ab0c7f0e867d5ffa2a5efb17e">expect</a> (std::vector&lt; std::string &gt; const &amp;tokens, std::size_t &amp;i, std::string const &amp;expected)</td></tr>
<tr class="memdesc:a6188c94ab0c7f0e867d5ffa2a5efb17e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility: checks if next token matches the expected symbol.  <br /></td></tr>
<tr class="separator:a6188c94ab0c7f0e867d5ffa2a5efb17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d0e0c0542002106e6e9e455df8cc59" id="r_a41d0e0c0542002106e6e9e455df8cc59"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a41d0e0c0542002106e6e9e455df8cc59">parseClientBodySize</a> (std::string bodySize, <a class="el" href="classServerConfig.html">ServerConfig</a> &amp;server)</td></tr>
<tr class="memdesc:a41d0e0c0542002106e6e9e455df8cc59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses "client_max_body_size" directive with suffixes (K, M, G).  <br /></td></tr>
<tr class="separator:a41d0e0c0542002106e6e9e455df8cc59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66827cd7be60417c1598e4b0003e1c1" id="r_ad66827cd7be60417c1598e4b0003e1c1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#ad66827cd7be60417c1598e4b0003e1c1">parseListenInterface</a> (std::string rawListen, <a class="el" href="classServerConfig.html">ServerConfig</a> &amp;server)</td></tr>
<tr class="memdesc:ad66827cd7be60417c1598e4b0003e1c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a "listen" directive into IP:port pair.  <br /></td></tr>
<tr class="separator:ad66827cd7be60417c1598e4b0003e1c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a7670aacf418332702850134b4e4ca" id="r_a99a7670aacf418332702850134b4e4ca"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a99a7670aacf418332702850134b4e4ca">parseLocationBlock</a> (std::vector&lt; std::string &gt; const &amp;tokens, std::size_t &amp;i, <a class="el" href="classServerConfig.html">ServerConfig</a> &amp;server)</td></tr>
<tr class="memdesc:a99a7670aacf418332702850134b4e4ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a <code>location</code> block and adds it to the current server.  <br /></td></tr>
<tr class="separator:a99a7670aacf418332702850134b4e4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560c0318ac8a3a868f5222327f3e7b57" id="r_a560c0318ac8a3a868f5222327f3e7b57"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0ea">RequestMethod::Method</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a560c0318ac8a3a868f5222327f3e7b57">parseMethod</a> (std::string const &amp;token)</td></tr>
<tr class="memdesc:a560c0318ac8a3a868f5222327f3e7b57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a lowercase string token into a <a class="el" href="structRequestMethod.html" title="Defines supported HTTP request methods.">RequestMethod</a> enumeration.  <br /></td></tr>
<tr class="separator:a560c0318ac8a3a868f5222327f3e7b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb128a03051f57d584d3c5933435f2d4" id="r_aeb128a03051f57d584d3c5933435f2d4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#aeb128a03051f57d584d3c5933435f2d4">parseServerBlock</a> (std::vector&lt; std::string &gt; const &amp;tokens, std::size_t &amp;i, <a class="el" href="classConfig.html">Config</a> &amp;config)</td></tr>
<tr class="memdesc:aeb128a03051f57d584d3c5933435f2d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a complete <code>server {}</code> block and adds it to <a class="el" href="classConfig.html">Config</a>.  <br /></td></tr>
<tr class="separator:aeb128a03051f57d584d3c5933435f2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e830d440fc47e7f12376d102ca25a7b" id="r_a8e830d440fc47e7f12376d102ca25a7b"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConfigParser.html#a8e830d440fc47e7f12376d102ca25a7b">tokenize</a> (std::istringstream &amp;in)</td></tr>
<tr class="memdesc:a8e830d440fc47e7f12376d102ca25a7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tokenizes the cleaned configuration text into atomic strings and delimiters.  <br /></td></tr>
<tr class="separator:a8e830d440fc47e7f12376d102ca25a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="ConfigParser_8hpp_source.html#l00012">12</a> of file <a class="el" href="ConfigParser_8hpp_source.html">ConfigParser.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa5f9975a5c5ff3b3e3b81dad6a14626a" name="aa5f9975a5c5ff3b3e3b81dad6a14626a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f9975a5c5ff3b3e3b81dad6a14626a">&#9670;&#160;</a></span>ConfigParser() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConfigParser::ConfigParser </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a51c63698259aa32bb12f0321ee1c8f4c" name="a51c63698259aa32bb12f0321ee1c8f4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c63698259aa32bb12f0321ee1c8f4c">&#9670;&#160;</a></span>ConfigParser() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConfigParser::ConfigParser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classConfigParser.html">ConfigParser</a> const &amp;&#160;</td>
          <td class="paramname"><em>src</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a09f7d3d9e696f9eb3bb1f3ec1bde572b" name="a09f7d3d9e696f9eb3bb1f3ec1bde572b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f7d3d9e696f9eb3bb1f3ec1bde572b">&#9670;&#160;</a></span>~ConfigParser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConfigParser::~ConfigParser </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adf8ee0cc8bf8ce59570f9af8e70168b5" name="adf8ee0cc8bf8ce59570f9af8e70168b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf8ee0cc8bf8ce59570f9af8e70168b5">&#9670;&#160;</a></span>cleanConfigFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ConfigParser::cleanConfigFile </td>
          <td>(</td>
          <td class="paramtype">std::ifstream &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a configuration file and removes comments and uppercase letters. </p>
<p>Returns a fully lowercase string with comments stripped. </p>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00408">408</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  409</span>{</div>
<div class="line"><span class="lineno">  410</span>    std::ostringstream clean;</div>
<div class="line"><span class="lineno">  411</span>    std::string line;</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">while</span> (std::getline(file, line))</div>
<div class="line"><span class="lineno">  414</span>    {</div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">for</span> (std::string::iterator it = line.begin(); it != line.end(); ++it)</div>
<div class="line"><span class="lineno">  416</span>            *it = std::tolower(*it);</div>
<div class="line"><span class="lineno">  417</span>        std::string::size_type commentPos = line.find(<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">if</span> (commentPos != std::string::npos)</div>
<div class="line"><span class="lineno">  419</span>            line.erase(commentPos);</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">if</span> (!line.empty())</div>
<div class="line"><span class="lineno">  421</span>            clean &lt;&lt; line &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span>    file.close();</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">return</span> (clean.str());</div>
<div class="line"><span class="lineno">  425</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00434">parseFile()</a>.</p>

</div>
</div>
<a id="a6188c94ab0c7f0e867d5ffa2a5efb17e" name="a6188c94ab0c7f0e867d5ffa2a5efb17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6188c94ab0c7f0e867d5ffa2a5efb17e">&#9670;&#160;</a></span>expect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConfigParser::expect </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t &amp;&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>expected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility: checks if next token matches the expected symbol. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if tokens are exhausted or mismatch occurs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00191">191</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  192</span>{</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">if</span> (i &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unexpected end of tokens, expected&#39;&quot;</span> + expected + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">if</span> (tokens[i] != expected)</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Expected &#39;&quot;</span> + expected + <span class="stringliteral">&quot;&#39;, got &#39;&quot;</span> + tokens[i] + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  197</span>    ++i;</div>
<div class="line"><span class="lineno">  198</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00434">parseFile()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00042">parseLocationBlock()</a>, and <a class="el" href="ConfigParser_8cpp_source.html#l00267">parseServerBlock()</a>.</p>

</div>
</div>
<a id="ac93ae32753d21a8d02994c071072f726" name="ac93ae32753d21a8d02994c071072f726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac93ae32753d21a8d02994c071072f726">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classConfigParser.html">ConfigParser</a> &amp; ConfigParser::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classConfigParser.html">ConfigParser</a> const &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a41d0e0c0542002106e6e9e455df8cc59" name="a41d0e0c0542002106e6e9e455df8cc59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d0e0c0542002106e6e9e455df8cc59">&#9670;&#160;</a></span>parseClientBodySize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConfigParser::parseClientBodySize </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bodySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classServerConfig.html">ServerConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses "client_max_body_size" directive with suffixes (K, M, G). </p>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00230">230</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>{</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">for</span> (std::string::iterator it = bodySize.begin(); it != bodySize.end(); ++it)</div>
<div class="line"><span class="lineno">  233</span>        *it = std::tolower(*it);</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordtype">char</span>* endPtr;</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordtype">long</span> nbr = strtol(bodySize.c_str(), &amp;endPtr, 10);</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">if</span> (nbr &lt; 0)</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Negative body size not allowed&quot;</span>);</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    std::string suffix = bodySize.substr(endPtr - bodySize.c_str());</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordtype">long</span> multiplier = 1;</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">if</span> (suffix == <span class="stringliteral">&quot;&quot;</span> || suffix == <span class="stringliteral">&quot;b&quot;</span>)</div>
<div class="line"><span class="lineno">  244</span>        multiplier = 1;</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (suffix == <span class="stringliteral">&quot;k&quot;</span> || suffix == <span class="stringliteral">&quot;kb&quot;</span>)</div>
<div class="line"><span class="lineno">  246</span>        multiplier = 1024L;</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (suffix == <span class="stringliteral">&quot;m&quot;</span> || suffix == <span class="stringliteral">&quot;mb&quot;</span>)</div>
<div class="line"><span class="lineno">  248</span>        multiplier = 1024L * 1024L;</div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (suffix == <span class="stringliteral">&quot;g&quot;</span> || suffix == <span class="stringliteral">&quot;gb&quot;</span>)</div>
<div class="line"><span class="lineno">  250</span>        multiplier = 1024L * 1024L * 1024L;</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid size suffix: &quot;</span> + suffix);</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(nbr) * multiplier;</div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (size &gt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(std::numeric_limits&lt;std::size_t&gt;::max()))</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Client body size too large&quot;</span>);</div>
<div class="line"><span class="lineno">  257</span>    server.<a class="code hl_function" href="classServerConfig.html#a8ff368bdd1c0a9bc6d5ff80a1caefa26">setClientMaxBodySize</a>(<span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(size));</div>
<div class="line"><span class="lineno">  258</span>}</div>
<div class="ttc" id="aclassServerConfig_html_a8ff368bdd1c0a9bc6d5ff80a1caefa26"><div class="ttname"><a href="classServerConfig.html#a8ff368bdd1c0a9bc6d5ff80a1caefa26">ServerConfig::setClientMaxBodySize</a></div><div class="ttdeci">void setClientMaxBodySize(std::size_t)</div><div class="ttdoc">Defines the maximum allowed body size (in bytes).</div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8cpp_source.html#l00109">ServerConfig.cpp:109</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ServerConfig_8cpp_source.html#l00109">ServerConfig::setClientMaxBodySize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00267">parseServerBlock()</a>.</p>

</div>
</div>
<a id="a37f7f2df580ba720a140bd0fa7b6598c" name="a37f7f2df580ba720a140bd0fa7b6598c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f7f2df580ba720a140bd0fa7b6598c">&#9670;&#160;</a></span>parseFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classConfig.html">Config</a> ConfigParser::parseFile </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>configFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the entire configuration file and returns a populated <a class="el" href="classConfig.html">Config</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configFile</td><td>Path to the <code>.conf</code> file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Fully built <a class="el" href="classConfig.html">Config</a> containing all <a class="el" href="classServerConfig.html">ServerConfig</a> and <a class="el" href="classLocationConfig.html">LocationConfig</a> entries. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if the file cannot be read or syntax errors are found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00434">434</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  435</span>{</div>
<div class="line"><span class="lineno">  436</span>    std::ifstream   rawFile(configFile.c_str());</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">if</span> (!rawFile.is_open())</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Failed to open config file: &quot;</span> + configFile);</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>    std::string cleaned = <a class="code hl_function" href="classConfigParser.html#adf8ee0cc8bf8ce59570f9af8e70168b5">cleanConfigFile</a>(rawFile);</div>
<div class="line"><span class="lineno">  441</span>    std::istringstream file(cleaned);</div>
<div class="line"><span class="lineno">  442</span>    std::vector&lt;std::string&gt; tokens = <a class="code hl_function" href="classConfigParser.html#a8e830d440fc47e7f12376d102ca25a7b">tokenize</a>(file);</div>
<div class="line"><span class="lineno">  443</span>    std::size_t i = 0;</div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_class" href="classConfig.html">Config</a> config;</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">while</span> (i &lt; tokens.size())</div>
<div class="line"><span class="lineno">  447</span>    {</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">if</span> (tokens[i] == <span class="stringliteral">&quot;server&quot;</span>)</div>
<div class="line"><span class="lineno">  449</span>            <a class="code hl_function" href="classConfigParser.html#aeb128a03051f57d584d3c5933435f2d4">parseServerBlock</a>(tokens, i, config);</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  451</span>            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unknown directive: &quot;</span> + tokens[i]);</div>
<div class="line"><span class="lineno">  452</span>        <a class="code hl_function" href="classConfigParser.html#a6188c94ab0c7f0e867d5ffa2a5efb17e">expect</a>(tokens, i, <span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><span class="lineno">  453</span>    }</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">return</span> (config);</div>
<div class="line"><span class="lineno">  455</span>}</div>
<div class="ttc" id="aclassConfigParser_html_a6188c94ab0c7f0e867d5ffa2a5efb17e"><div class="ttname"><a href="classConfigParser.html#a6188c94ab0c7f0e867d5ffa2a5efb17e">ConfigParser::expect</a></div><div class="ttdeci">static void expect(std::vector&lt; std::string &gt; const &amp;tokens, std::size_t &amp;i, std::string const &amp;expected)</div><div class="ttdoc">Utility: checks if next token matches the expected symbol.</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00191">ConfigParser.cpp:191</a></div></div>
<div class="ttc" id="aclassConfigParser_html_a8e830d440fc47e7f12376d102ca25a7b"><div class="ttname"><a href="classConfigParser.html#a8e830d440fc47e7f12376d102ca25a7b">ConfigParser::tokenize</a></div><div class="ttdeci">static std::vector&lt; std::string &gt; tokenize(std::istringstream &amp;in)</div><div class="ttdoc">Tokenizes the cleaned configuration text into atomic strings and delimiters.</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00373">ConfigParser.cpp:373</a></div></div>
<div class="ttc" id="aclassConfigParser_html_adf8ee0cc8bf8ce59570f9af8e70168b5"><div class="ttname"><a href="classConfigParser.html#adf8ee0cc8bf8ce59570f9af8e70168b5">ConfigParser::cleanConfigFile</a></div><div class="ttdeci">static std::string cleanConfigFile(std::ifstream &amp;file)</div><div class="ttdoc">Reads a configuration file and removes comments and uppercase letters.</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00408">ConfigParser.cpp:408</a></div></div>
<div class="ttc" id="aclassConfigParser_html_aeb128a03051f57d584d3c5933435f2d4"><div class="ttname"><a href="classConfigParser.html#aeb128a03051f57d584d3c5933435f2d4">ConfigParser::parseServerBlock</a></div><div class="ttdeci">static void parseServerBlock(std::vector&lt; std::string &gt; const &amp;tokens, std::size_t &amp;i, Config &amp;config)</div><div class="ttdoc">Parses a complete server {} block and adds it to Config.</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00267">ConfigParser.cpp:267</a></div></div>
<div class="ttc" id="aclassConfig_html"><div class="ttname"><a href="classConfig.html">Config</a></div><div class="ttdef"><b>Definition</b> <a href="Config_8hpp_source.html#l00009">Config.hpp:10</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ConfigParser_8cpp_source.html#l00408">cleanConfigFile()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00191">expect()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00267">parseServerBlock()</a>, and <a class="el" href="ConfigParser_8cpp_source.html#l00373">tokenize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cpp_source.html#l00027">main()</a>.</p>

</div>
</div>
<a id="ad66827cd7be60417c1598e4b0003e1c1" name="ad66827cd7be60417c1598e4b0003e1c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad66827cd7be60417c1598e4b0003e1c1">&#9670;&#160;</a></span>parseListenInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConfigParser::parseListenInterface </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>rawListen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classServerConfig.html">ServerConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses a "listen" directive into IP:port pair. </p>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00203">203</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  204</span>{</div>
<div class="line"><span class="lineno">  205</span>    std::string ip;</div>
<div class="line"><span class="lineno">  206</span>    std::string port;</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    std::string::size_type  coloPos = rawListen.find(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span> (coloPos == std::string::npos)</div>
<div class="line"><span class="lineno">  210</span>    {</div>
<div class="line"><span class="lineno">  211</span>        ip = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><span class="lineno">  212</span>        port = rawListen;</div>
<div class="line"><span class="lineno">  213</span>    }</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  215</span>    {</div>
<div class="line"><span class="lineno">  216</span>        ip = rawListen.substr(0, coloPos);</div>
<div class="line"><span class="lineno">  217</span>        port = rawListen.substr(coloPos + 1);</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_function" href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a>().<a class="code hl_function" href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">log</a>(<a class="code hl_enumvalue" href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f">DEBUG</a>,</div>
<div class="line"><span class="lineno">  221</span>        <span class="stringliteral">&quot;ConfigParser: parsed listen -&gt; IP=&quot;</span> + ip + <span class="stringliteral">&quot;, PORT=&quot;</span> + port);</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    server.<a class="code hl_function" href="classServerConfig.html#a59a6b8c51bca5e4d6da765a8a9bd6388">setListenInterface</a>(std::make_pair(ip, port));</div>
<div class="line"><span class="lineno">  224</span>}</div>
<div class="ttc" id="aLogger_8hpp_html_aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f"><div class="ttname"><a href="Logger_8hpp.html#aca1fd1d8935433e6ba2e3918214e07f9a0593585da9181e972974c1274d8f2b4f">DEBUG</a></div><div class="ttdeci">@ DEBUG</div><div class="ttdef"><b>Definition</b> <a href="Logger_8hpp_source.html#l00015">Logger.hpp:15</a></div></div>
<div class="ttc" id="aclassLogger_html_a3d3f0801eeaf39b33a906ea8569c19b2"><div class="ttname"><a href="classLogger.html#a3d3f0801eeaf39b33a906ea8569c19b2">Logger::log</a></div><div class="ttdeci">void log(LogLevel level, const std::string &amp;message)</div><div class="ttdoc">Writes a log entry with timestamp, level, and message.</div><div class="ttdef"><b>Definition</b> <a href="Logger_8cpp_source.html#l00051">Logger.cpp:51</a></div></div>
<div class="ttc" id="aclassLogger_html_a4aa4d7c3b98f6e12e7ea8253da5ea0cd"><div class="ttname"><a href="classLogger.html#a4aa4d7c3b98f6e12e7ea8253da5ea0cd">Logger::instance</a></div><div class="ttdeci">static Logger &amp; instance()</div><div class="ttdoc">Returns the singleton instance of the Logger.</div><div class="ttdef"><b>Definition</b> <a href="Logger_8cpp_source.html#l00037">Logger.cpp:37</a></div></div>
<div class="ttc" id="aclassServerConfig_html_a59a6b8c51bca5e4d6da765a8a9bd6388"><div class="ttname"><a href="classServerConfig.html#a59a6b8c51bca5e4d6da765a8a9bd6388">ServerConfig::setListenInterface</a></div><div class="ttdeci">void setListenInterface(std::pair&lt; std::string, std::string &gt;)</div><div class="ttdoc">Sets the listening interface for this server.</div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8cpp_source.html#l00093">ServerConfig.cpp:93</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Logger_8hpp_source.html#l00015">DEBUG</a>, <a class="el" href="Logger_8cpp_source.html#l00037">Logger::instance()</a>, <a class="el" href="Logger_8cpp_source.html#l00051">Logger::log()</a>, and <a class="el" href="ServerConfig_8cpp_source.html#l00093">ServerConfig::setListenInterface()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00267">parseServerBlock()</a>.</p>

</div>
</div>
<a id="a99a7670aacf418332702850134b4e4ca" name="a99a7670aacf418332702850134b4e4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99a7670aacf418332702850134b4e4ca">&#9670;&#160;</a></span>parseLocationBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConfigParser::parseLocationBlock </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t &amp;&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classServerConfig.html">ServerConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses a <code>location</code> block and adds it to the current server. </p>
<p>Handles nested directives such as <code>root</code>, <code>index</code>, <code>autoindex</code>, <code>methods</code>, <code>return</code>, <code>upload_path</code>, <code>upload_enable</code>, and <code>cgi_path</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tokens</td><td>Vector of configuration tokens. </td></tr>
    <tr><td class="paramname">i</td><td>Current index within the tokens vector (modified in-place). </td></tr>
    <tr><td class="paramname">server</td><td>Reference to the <a class="el" href="classServerConfig.html">ServerConfig</a> object being built. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>on syntax or semantic errors. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00042">42</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>{</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordtype">bool</span>    hasMethods = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordtype">bool</span>    hasReturn = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordtype">bool</span>    hasUploadPath = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordtype">bool</span>    hasUploadEnabled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordtype">bool</span>    hasCgiPath = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">if</span> (i + 2 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing path for location directive&quot;</span>);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    std::string path = tokens[i + 1];</div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">if</span> (tokens[i + 2] != <span class="stringliteral">&quot;{&quot;</span>)</div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Expected &#39;{&#39; after location path&quot;</span>);</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_class" href="classLocationConfig.html">LocationConfig</a> location(path);</div>
<div class="line"><span class="lineno">   58</span>    i += 3; <span class="comment">// move to first directive inside block</span></div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">while</span> (i &lt; tokens.size())</div>
<div class="line"><span class="lineno">   61</span>    {</div>
<div class="line"><span class="lineno">   62</span>        std::string token = tokens[i];</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">if</span> (tokens[i] == <span class="stringliteral">&quot;}&quot;</span>)</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;root&quot;</span>)</div>
<div class="line"><span class="lineno">   68</span>        {</div>
<div class="line"><span class="lineno">   69</span>            <span class="keywordflow">if</span> (location.getHasRoot())</div>
<div class="line"><span class="lineno">   70</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate root directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">   71</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">   72</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for root in &quot;</span> + path);</div>
<div class="line"><span class="lineno">   73</span>            location.setRoot(tokens[i + 1]);</div>
<div class="line"><span class="lineno">   74</span>            i += 2;</div>
<div class="line"><span class="lineno">   75</span>        }</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">   77</span>        {</div>
<div class="line"><span class="lineno">   78</span>            <span class="keywordflow">if</span> (location.getHasIndexFiles())</div>
<div class="line"><span class="lineno">   79</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate index directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">   80</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">   81</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for index in &quot;</span> + path);</div>
<div class="line"><span class="lineno">   82</span>            location.setIndex(tokens[i + 1]);</div>
<div class="line"><span class="lineno">   83</span>            i += 2;</div>
<div class="line"><span class="lineno">   84</span>        }</div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;autoindex&quot;</span>)</div>
<div class="line"><span class="lineno">   86</span>        {</div>
<div class="line"><span class="lineno">   87</span>            <span class="keywordflow">if</span> (location.getHasAutoIndex())</div>
<div class="line"><span class="lineno">   88</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate autoindex directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">   89</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">   90</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for autoindex in &quot;</span> + path);</div>
<div class="line"><span class="lineno">   91</span>            std::string flag = tokens[i + 1];</div>
<div class="line"><span class="lineno">   92</span>            <span class="keywordflow">if</span> (flag == <span class="stringliteral">&quot;on&quot;</span>)</div>
<div class="line"><span class="lineno">   93</span>                location.setAutoindex(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag == <span class="stringliteral">&quot;off&quot;</span>)</div>
<div class="line"><span class="lineno">   95</span>                location.setAutoindex(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   97</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid value for autoindex: must be &#39;on&#39; or &#39;off&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">   98</span>            i += 2;</div>
<div class="line"><span class="lineno">   99</span>        }</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;methods&quot;</span>)</div>
<div class="line"><span class="lineno">  101</span>        {</div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">if</span> (hasMethods)</div>
<div class="line"><span class="lineno">  103</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate methods directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  104</span>            std::vector&lt;RequestMethod::Method&gt; methods;</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">while</span> (i + 1 &lt; tokens.size() &amp;&amp; tokens[i + 1] != <span class="stringliteral">&quot;;&quot;</span>)</div>
<div class="line"><span class="lineno">  106</span>            {</div>
<div class="line"><span class="lineno">  107</span>                methods.push_back(<a class="code hl_function" href="classConfigParser.html#a560c0318ac8a3a868f5222327f3e7b57">parseMethod</a>(tokens[i + 1]));</div>
<div class="line"><span class="lineno">  108</span>                ++i;</div>
<div class="line"><span class="lineno">  109</span>            }</div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size() || tokens[i + 1] != <span class="stringliteral">&quot;;&quot;</span>)</div>
<div class="line"><span class="lineno">  111</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing &#39;;&#39; after methods list in location &quot;</span> + path);</div>
<div class="line"><span class="lineno">  112</span>            location.setMethods(methods);</div>
<div class="line"><span class="lineno">  113</span>            hasMethods = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  114</span>            i++;</div>
<div class="line"><span class="lineno">  115</span>        }</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;return&quot;</span>)</div>
<div class="line"><span class="lineno">  117</span>        {</div>
<div class="line"><span class="lineno">  118</span>            <span class="keywordflow">if</span> (hasReturn)</div>
<div class="line"><span class="lineno">  119</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate return directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">if</span> (i + 2 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  121</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing arguments for return in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordtype">int</span> code = atoi(tokens[i + 1].c_str());</div>
<div class="line"><span class="lineno">  124</span>            std::string url = tokens[i + 2];</div>
<div class="line"><span class="lineno">  125</span>            location.setReturn(std::make_pair(code, url));</div>
<div class="line"><span class="lineno">  126</span>            hasReturn = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  127</span>            i += 3;</div>
<div class="line"><span class="lineno">  128</span>        }</div>
<div class="line"><span class="lineno">  129</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;upload_path&quot;</span>)</div>
<div class="line"><span class="lineno">  130</span>        {</div>
<div class="line"><span class="lineno">  131</span>            <span class="keywordflow">if</span> (hasUploadPath)</div>
<div class="line"><span class="lineno">  132</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate upload_path directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  133</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  134</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for upload_path in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  135</span>            location.setUploadPath(tokens[i + 1]);</div>
<div class="line"><span class="lineno">  136</span>            hasUploadPath = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  137</span>            i += 2;</div>
<div class="line"><span class="lineno">  138</span>        }</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;upload_enable&quot;</span>)</div>
<div class="line"><span class="lineno">  140</span>        {</div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">if</span> (hasUploadEnabled)</div>
<div class="line"><span class="lineno">  142</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate upload_enabled directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  144</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for upload_enabled in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  145</span>            std::string flag = tokens[i + 1];</div>
<div class="line"><span class="lineno">  146</span>            <span class="keywordflow">if</span> (flag == <span class="stringliteral">&quot;on&quot;</span>)</div>
<div class="line"><span class="lineno">  147</span>                location.setUploadEnabled(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  148</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag == <span class="stringliteral">&quot;off&quot;</span>)</div>
<div class="line"><span class="lineno">  149</span>                location.setUploadEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  150</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  151</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid value for upload_enabled: must be &#39;on&#39; or &#39;off&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  152</span>            hasUploadEnabled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  153</span>            i += 2;</div>
<div class="line"><span class="lineno">  154</span>        }</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;cgi_path&quot;</span>)</div>
<div class="line"><span class="lineno">  156</span>        {</div>
<div class="line"><span class="lineno">  157</span>            <span class="keywordflow">if</span> (hasCgiPath)</div>
<div class="line"><span class="lineno">  158</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate cgi_path directive in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  159</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  160</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for cgi_path in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  161</span>            location.setCgiPath(tokens[i + 1]);</div>
<div class="line"><span class="lineno">  162</span>            hasCgiPath = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  163</span>            i += 2;</div>
<div class="line"><span class="lineno">  164</span>        }</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;cgi_extension&quot;</span>)</div>
<div class="line"><span class="lineno">  166</span>        {</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">if</span> (i + 2 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  168</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing arguments for cgi_extension in &quot;</span> + path);</div>
<div class="line"><span class="lineno">  169</span>            location.addCgiExtension(tokens[i + 1], tokens[i + 2]);</div>
<div class="line"><span class="lineno">  170</span>            i += 3;</div>
<div class="line"><span class="lineno">  171</span>        }</div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;location&quot;</span>)</div>
<div class="line"><span class="lineno">  173</span>            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Location nesting is not allowed in location directive&quot;</span>);</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unknown directive in location block: &quot;</span> + token + <span class="stringliteral">&quot; inside location &quot;</span> + path);</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">if</span> (tokens[i] != <span class="stringliteral">&quot;}&quot;</span>)</div>
<div class="line"><span class="lineno">  178</span>            <a class="code hl_function" href="classConfigParser.html#a6188c94ab0c7f0e867d5ffa2a5efb17e">expect</a>(tokens, i, <span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><span class="lineno">  179</span>    }</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">if</span> (i &gt;= tokens.size() || tokens[i] != <span class="stringliteral">&quot;}&quot;</span>)</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing &#39;}&#39; at end of location block&quot;</span>);</div>
<div class="line"><span class="lineno">  182</span>    i += 1;</div>
<div class="line"><span class="lineno">  183</span>    server.<a class="code hl_function" href="classServerConfig.html#a6eba0775d2b1b31242740a9ff53d4364">addLocation</a>(location);</div>
<div class="line"><span class="lineno">  184</span>}</div>
<div class="ttc" id="aclassConfigParser_html_a560c0318ac8a3a868f5222327f3e7b57"><div class="ttname"><a href="classConfigParser.html#a560c0318ac8a3a868f5222327f3e7b57">ConfigParser::parseMethod</a></div><div class="ttdeci">static RequestMethod::Method parseMethod(std::string const &amp;token)</div><div class="ttdoc">Converts a lowercase string token into a RequestMethod enumeration.</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00019">ConfigParser.cpp:19</a></div></div>
<div class="ttc" id="aclassLocationConfig_html"><div class="ttname"><a href="classLocationConfig.html">LocationConfig</a></div><div class="ttdef"><b>Definition</b> <a href="LocationConfig_8hpp_source.html#l00011">LocationConfig.hpp:12</a></div></div>
<div class="ttc" id="aclassServerConfig_html_a6eba0775d2b1b31242740a9ff53d4364"><div class="ttname"><a href="classServerConfig.html#a6eba0775d2b1b31242740a9ff53d4364">ServerConfig::addLocation</a></div><div class="ttdeci">void addLocation(LocationConfig &amp;location)</div><div class="ttdoc">Adds a new LocationConfig to the server.</div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8cpp_source.html#l00143">ServerConfig.cpp:143</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="LocationConfig_8cpp_source.html#l00184">LocationConfig::addCgiExtension()</a>, <a class="el" href="ServerConfig_8cpp_source.html#l00143">ServerConfig::addLocation()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00191">expect()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00110">LocationConfig::getHasAutoIndex()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00105">LocationConfig::getHasIndexFiles()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00100">LocationConfig::getHasRoot()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00019">parseMethod()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00133">LocationConfig::setAutoindex()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00174">LocationConfig::setCgiPath()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00124">LocationConfig::setIndex()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00142">LocationConfig::setMethods()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00150">LocationConfig::setReturn()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00115">LocationConfig::setRoot()</a>, <a class="el" href="LocationConfig_8cpp_source.html#l00166">LocationConfig::setUploadEnabled()</a>, and <a class="el" href="LocationConfig_8cpp_source.html#l00158">LocationConfig::setUploadPath()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00267">parseServerBlock()</a>.</p>

</div>
</div>
<a id="a560c0318ac8a3a868f5222327f3e7b57" name="a560c0318ac8a3a868f5222327f3e7b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560c0318ac8a3a868f5222327f3e7b57">&#9670;&#160;</a></span>parseMethod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0ea">RequestMethod::Method</a> ConfigParser::parseMethod </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a lowercase string token into a <a class="el" href="structRequestMethod.html" title="Defines supported HTTP request methods.">RequestMethod</a> enumeration. </p>
<p>Supports only GET, POST, and DELETE according to the project specification.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>The method name as a lowercase string (e.g. "get"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Corresponding <a class="el" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0ea">RequestMethod::Method</a> value. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if the token does not match a known method. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00019">19</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   20</span>{</div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;get&quot;</span>)</div>
<div class="line"><span class="lineno">   22</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaae25257890235f999204793748f1752c9">RequestMethod::GET</a>;</div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;post&quot;</span>)</div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaabfd72fc37af3fbd28ef006bfc57f2dfc">RequestMethod::POST</a>;</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;delete&quot;</span>)</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaa7870e39b1f6fdcacc60d9ae5f581e0d3">RequestMethod::DELETE</a>;</div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unknown HTTP method: &quot;</span> + token);</div>
<div class="line"><span class="lineno">   29</span>}</div>
<div class="ttc" id="astructRequestMethod_html_a63081603a32a15207a690e0ddd2bc0eaa7870e39b1f6fdcacc60d9ae5f581e0d3"><div class="ttname"><a href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaa7870e39b1f6fdcacc60d9ae5f581e0d3">RequestMethod::DELETE</a></div><div class="ttdeci">@ DELETE</div><div class="ttdef"><b>Definition</b> <a href="RequestMethod_8hpp_source.html#l00032">RequestMethod.hpp:32</a></div></div>
<div class="ttc" id="astructRequestMethod_html_a63081603a32a15207a690e0ddd2bc0eaabfd72fc37af3fbd28ef006bfc57f2dfc"><div class="ttname"><a href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaabfd72fc37af3fbd28ef006bfc57f2dfc">RequestMethod::POST</a></div><div class="ttdeci">@ POST</div><div class="ttdef"><b>Definition</b> <a href="RequestMethod_8hpp_source.html#l00030">RequestMethod.hpp:30</a></div></div>
<div class="ttc" id="astructRequestMethod_html_a63081603a32a15207a690e0ddd2bc0eaae25257890235f999204793748f1752c9"><div class="ttname"><a href="structRequestMethod.html#a63081603a32a15207a690e0ddd2bc0eaae25257890235f999204793748f1752c9">RequestMethod::GET</a></div><div class="ttdeci">@ GET</div><div class="ttdef"><b>Definition</b> <a href="RequestMethod_8hpp_source.html#l00028">RequestMethod.hpp:28</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RequestMethod_8hpp_source.html#l00032">RequestMethod::DELETE</a>, <a class="el" href="RequestMethod_8hpp_source.html#l00028">RequestMethod::GET</a>, and <a class="el" href="RequestMethod_8hpp_source.html#l00030">RequestMethod::POST</a>.</p>

<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00042">parseLocationBlock()</a>.</p>

</div>
</div>
<a id="aeb128a03051f57d584d3c5933435f2d4" name="aeb128a03051f57d584d3c5933435f2d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb128a03051f57d584d3c5933435f2d4">&#9670;&#160;</a></span>parseServerBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ConfigParser::parseServerBlock </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t &amp;&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classConfig.html">Config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses a complete <code>server {}</code> block and adds it to <a class="el" href="classConfig.html">Config</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tokens</td><td>Flattened list of tokens from the config file. </td></tr>
    <tr><td class="paramname">i</td><td>Current token index, modified during parsing. </td></tr>
    <tr><td class="paramname">config</td><td><a class="el" href="classConfig.html">Config</a> object to which the <a class="el" href="classServerConfig.html">ServerConfig</a> will be appended. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00267">267</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_function" href="classConfigParser.html#a6188c94ab0c7f0e867d5ffa2a5efb17e">expect</a>(tokens, ++i, <span class="stringliteral">&quot;{&quot;</span>);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_class" href="classServerConfig.html">ServerConfig</a>    server;</div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordtype">bool</span>    hasListen = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordtype">bool</span>    hasRoot = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordtype">bool</span>    hasIndex = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordtype">bool</span>    hasBodySize = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordtype">bool</span>    hasAutoIndex = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordtype">bool</span>    hasLocation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">while</span> (i &lt; tokens.size())</div>
<div class="line"><span class="lineno">  280</span>    {</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">if</span> (tokens[i] == <span class="stringliteral">&quot;}&quot;</span>)</div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  283</span>        std::string token = tokens[i];</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;listen&quot;</span>)</div>
<div class="line"><span class="lineno">  285</span>        {</div>
<div class="line"><span class="lineno">  286</span>            <span class="keywordflow">if</span> (hasListen)</div>
<div class="line"><span class="lineno">  287</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate listen directive&quot;</span>);</div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  289</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for &#39;listen&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  290</span>            <a class="code hl_function" href="classConfigParser.html#ad66827cd7be60417c1598e4b0003e1c1">parseListenInterface</a>(tokens[i + 1], server);</div>
<div class="line"><span class="lineno">  291</span>            hasListen = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  292</span>            i += 2;</div>
<div class="line"><span class="lineno">  293</span>        }</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;root&quot;</span>)</div>
<div class="line"><span class="lineno">  295</span>        {</div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordflow">if</span> (hasRoot)</div>
<div class="line"><span class="lineno">  297</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate root directive&quot;</span>);</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for &#39;root&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  300</span>            server.<a class="code hl_function" href="classServerConfig.html#aedf2857c76797e9f3938cf357b4d6b67">setRoot</a>(tokens[i + 1]);</div>
<div class="line"><span class="lineno">  301</span>            hasRoot = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  302</span>            i += 2;</div>
<div class="line"><span class="lineno">  303</span>        }</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;error_page&quot;</span>)</div>
<div class="line"><span class="lineno">  305</span>        {</div>
<div class="line"><span class="lineno">  306</span>            <span class="keywordflow">if</span> (i + 2 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  307</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for &#39;error_page&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  308</span>            <span class="keywordtype">int</span> code;</div>
<div class="line"><span class="lineno">  309</span>            std::stringstream ss(tokens[i + 1]);</div>
<div class="line"><span class="lineno">  310</span>            ss &gt;&gt; code;</div>
<div class="line"><span class="lineno">  311</span>            <span class="keywordflow">if</span> (ss.fail())</div>
<div class="line"><span class="lineno">  312</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid error code for &#39;error_page&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  313</span>            std::string path = tokens[i + 2];</div>
<div class="line"><span class="lineno">  314</span>            server.<a class="code hl_function" href="classServerConfig.html#af898de48e307e096dbac0808f7353878">setErrorPage</a>(code, path);</div>
<div class="line"><span class="lineno">  315</span>            i += 3;</div>
<div class="line"><span class="lineno">  316</span>        }</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  318</span>        {</div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">if</span> (hasIndex)</div>
<div class="line"><span class="lineno">  320</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate index directive&quot;</span>);</div>
<div class="line"><span class="lineno">  321</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  322</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for &#39;index&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  323</span>            server.<a class="code hl_function" href="classServerConfig.html#a0ded1329bab47f9ae44187c2b98f93d0">setIndexFile</a>(tokens[i + 1]);</div>
<div class="line"><span class="lineno">  324</span>            hasIndex = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  325</span>            i += 2;</div>
<div class="line"><span class="lineno">  326</span>        }</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;client_max_body_size&quot;</span>)</div>
<div class="line"><span class="lineno">  328</span>        {</div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">if</span> (hasBodySize)</div>
<div class="line"><span class="lineno">  330</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate client_max_body_size directive&quot;</span>);</div>
<div class="line"><span class="lineno">  331</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  332</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for &#39;client_max_body_size&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  333</span>            <a class="code hl_function" href="classConfigParser.html#a41d0e0c0542002106e6e9e455df8cc59">parseClientBodySize</a>(tokens[i + 1], server);</div>
<div class="line"><span class="lineno">  334</span>            hasBodySize = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  335</span>            i += 2;</div>
<div class="line"><span class="lineno">  336</span>        }</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;autoindex&quot;</span>)</div>
<div class="line"><span class="lineno">  338</span>        {</div>
<div class="line"><span class="lineno">  339</span>            <span class="keywordflow">if</span> (hasAutoIndex)</div>
<div class="line"><span class="lineno">  340</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Duplicate autoindex directive&quot;</span>);</div>
<div class="line"><span class="lineno">  341</span>            <span class="keywordflow">if</span> (i + 1 &gt;= tokens.size())</div>
<div class="line"><span class="lineno">  342</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing argument for &#39;autoindex&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  343</span>            std::string flag = tokens[i + 1];</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">if</span> (flag == <span class="stringliteral">&quot;on&quot;</span>)</div>
<div class="line"><span class="lineno">  345</span>                server.<a class="code hl_function" href="classServerConfig.html#a8f784c384fec1f0573a319c1da6bf6db">setAutoindex</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  346</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag == <span class="stringliteral">&quot;off&quot;</span>)</div>
<div class="line"><span class="lineno">  347</span>                server.<a class="code hl_function" href="classServerConfig.html#a8f784c384fec1f0573a319c1da6bf6db">setAutoindex</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  348</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  349</span>                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Invalid value for autoindex: must be &#39;on&#39; or &#39;off&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span>            hasAutoIndex = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  351</span>            i += 2;</div>
<div class="line"><span class="lineno">  352</span>        }</div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == <span class="stringliteral">&quot;location&quot;</span>)</div>
<div class="line"><span class="lineno">  354</span>        {</div>
<div class="line"><span class="lineno">  355</span>            <a class="code hl_function" href="classConfigParser.html#a99a7670aacf418332702850134b4e4ca">parseLocationBlock</a>(tokens, i, server);</div>
<div class="line"><span class="lineno">  356</span>            hasLocation = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  357</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  358</span>        }</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unknown directive in server block: &quot;</span> + token);</div>
<div class="line"><span class="lineno">  361</span>        <a class="code hl_function" href="classConfigParser.html#a6188c94ab0c7f0e867d5ffa2a5efb17e">expect</a>(tokens, i, <span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><span class="lineno">  362</span>    }</div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">if</span> (!hasRoot)</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing root directive&quot;</span>);</div>
<div class="line"><span class="lineno">  365</span>    <span class="keywordflow">if</span> (!hasLocation)</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Missing location directive&quot;</span>);</div>
<div class="line"><span class="lineno">  367</span>    config.<a class="code hl_function" href="classConfig.html#a02ceba7e01adf73a2dc7a5e9edc316ed">addServer</a>(server);</div>
<div class="line"><span class="lineno">  368</span>}</div>
<div class="ttc" id="aclassConfigParser_html_a41d0e0c0542002106e6e9e455df8cc59"><div class="ttname"><a href="classConfigParser.html#a41d0e0c0542002106e6e9e455df8cc59">ConfigParser::parseClientBodySize</a></div><div class="ttdeci">static void parseClientBodySize(std::string bodySize, ServerConfig &amp;server)</div><div class="ttdoc">Parses &quot;client_max_body_size&quot; directive with suffixes (K, M, G).</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00230">ConfigParser.cpp:230</a></div></div>
<div class="ttc" id="aclassConfigParser_html_a99a7670aacf418332702850134b4e4ca"><div class="ttname"><a href="classConfigParser.html#a99a7670aacf418332702850134b4e4ca">ConfigParser::parseLocationBlock</a></div><div class="ttdeci">static void parseLocationBlock(std::vector&lt; std::string &gt; const &amp;tokens, std::size_t &amp;i, ServerConfig &amp;server)</div><div class="ttdoc">Parses a location block and adds it to the current server.</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00042">ConfigParser.cpp:42</a></div></div>
<div class="ttc" id="aclassConfigParser_html_ad66827cd7be60417c1598e4b0003e1c1"><div class="ttname"><a href="classConfigParser.html#ad66827cd7be60417c1598e4b0003e1c1">ConfigParser::parseListenInterface</a></div><div class="ttdeci">static void parseListenInterface(std::string rawListen, ServerConfig &amp;server)</div><div class="ttdoc">Parses a &quot;listen&quot; directive into IP:port pair.</div><div class="ttdef"><b>Definition</b> <a href="ConfigParser_8cpp_source.html#l00203">ConfigParser.cpp:203</a></div></div>
<div class="ttc" id="aclassConfig_html_a02ceba7e01adf73a2dc7a5e9edc316ed"><div class="ttname"><a href="classConfig.html#a02ceba7e01adf73a2dc7a5e9edc316ed">Config::addServer</a></div><div class="ttdeci">void addServer(ServerConfig &amp;server)</div><div class="ttdoc">Adds a new server configuration to the configuration set.</div><div class="ttdef"><b>Definition</b> <a href="Config_8cpp_source.html#l00037">Config.cpp:37</a></div></div>
<div class="ttc" id="aclassServerConfig_html"><div class="ttname"><a href="classServerConfig.html">ServerConfig</a></div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8hpp_source.html#l00012">ServerConfig.hpp:13</a></div></div>
<div class="ttc" id="aclassServerConfig_html_a0ded1329bab47f9ae44187c2b98f93d0"><div class="ttname"><a href="classServerConfig.html#a0ded1329bab47f9ae44187c2b98f93d0">ServerConfig::setIndexFile</a></div><div class="ttdeci">void setIndexFile(std::string)</div><div class="ttdoc">Sets the default index file (e.g., &quot;index.html&quot;).</div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8cpp_source.html#l00127">ServerConfig.cpp:127</a></div></div>
<div class="ttc" id="aclassServerConfig_html_a8f784c384fec1f0573a319c1da6bf6db"><div class="ttname"><a href="classServerConfig.html#a8f784c384fec1f0573a319c1da6bf6db">ServerConfig::setAutoindex</a></div><div class="ttdeci">void setAutoindex(bool)</div><div class="ttdoc">Enables or disables autoindex globally for the server.</div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8cpp_source.html#l00135">ServerConfig.cpp:135</a></div></div>
<div class="ttc" id="aclassServerConfig_html_aedf2857c76797e9f3938cf357b4d6b67"><div class="ttname"><a href="classServerConfig.html#aedf2857c76797e9f3938cf357b4d6b67">ServerConfig::setRoot</a></div><div class="ttdeci">void setRoot(std::string)</div><div class="ttdoc">Defines the root directory for this server.</div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8cpp_source.html#l00101">ServerConfig.cpp:101</a></div></div>
<div class="ttc" id="aclassServerConfig_html_af898de48e307e096dbac0808f7353878"><div class="ttname"><a href="classServerConfig.html#af898de48e307e096dbac0808f7353878">ServerConfig::setErrorPage</a></div><div class="ttdeci">void setErrorPage(int, std::string)</div><div class="ttdoc">Associates a custom error page with an HTTP status code.</div><div class="ttdef"><b>Definition</b> <a href="ServerConfig_8cpp_source.html#l00119">ServerConfig.cpp:119</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Config_8cpp_source.html#l00037">Config::addServer()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00191">expect()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00230">parseClientBodySize()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00203">parseListenInterface()</a>, <a class="el" href="ConfigParser_8cpp_source.html#l00042">parseLocationBlock()</a>, <a class="el" href="ServerConfig_8cpp_source.html#l00135">ServerConfig::setAutoindex()</a>, <a class="el" href="ServerConfig_8cpp_source.html#l00119">ServerConfig::setErrorPage()</a>, <a class="el" href="ServerConfig_8cpp_source.html#l00127">ServerConfig::setIndexFile()</a>, and <a class="el" href="ServerConfig_8cpp_source.html#l00101">ServerConfig::setRoot()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00434">parseFile()</a>.</p>

</div>
</div>
<a id="a8e830d440fc47e7f12376d102ca25a7b" name="a8e830d440fc47e7f12376d102ca25a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e830d440fc47e7f12376d102ca25a7b">&#9670;&#160;</a></span>tokenize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; ConfigParser::tokenize </td>
          <td>(</td>
          <td class="paramtype">std::istringstream &amp;&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tokenizes the cleaned configuration text into atomic strings and delimiters. </p>

<p class="definition">Definition at line <a class="el" href="ConfigParser_8cpp_source.html#l00373">373</a> of file <a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  374</span>{</div>
<div class="line"><span class="lineno">  375</span>    std::string word;</div>
<div class="line"><span class="lineno">  376</span>    std::vector&lt;std::string&gt; tokens;</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">while</span> (in &gt;&gt; word)</div>
<div class="line"><span class="lineno">  379</span>    {</div>
<div class="line"><span class="lineno">  380</span>        std::string current;</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; word.size(); i++)</div>
<div class="line"><span class="lineno">  382</span>        {</div>
<div class="line"><span class="lineno">  383</span>            <span class="keywordtype">char</span> c = word[i];</div>
<div class="line"><span class="lineno">  384</span>            <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;{&#39;</span> || c == <span class="charliteral">&#39;}&#39;</span> || c == <span class="charliteral">&#39;;&#39;</span>)</div>
<div class="line"><span class="lineno">  385</span>            {</div>
<div class="line"><span class="lineno">  386</span>                <span class="keywordflow">if</span> (!current.empty())</div>
<div class="line"><span class="lineno">  387</span>                {</div>
<div class="line"><span class="lineno">  388</span>                    tokens.push_back(current);</div>
<div class="line"><span class="lineno">  389</span>                    current.clear();</div>
<div class="line"><span class="lineno">  390</span>                }</div>
<div class="line"><span class="lineno">  391</span>                std::string metachar(1, c);</div>
<div class="line"><span class="lineno">  392</span>                tokens.push_back(metachar);</div>
<div class="line"><span class="lineno">  393</span>            }</div>
<div class="line"><span class="lineno">  394</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  395</span>                current += c;</div>
<div class="line"><span class="lineno">  396</span>        }</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">if</span> (!current.empty())</div>
<div class="line"><span class="lineno">  398</span>            tokens.push_back(current);</div>
<div class="line"><span class="lineno">  399</span>    }</div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">return</span> (tokens);</div>
<div class="line"><span class="lineno">  401</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="ConfigParser_8cpp_source.html#l00434">parseFile()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>config/<a class="el" href="ConfigParser_8hpp_source.html">ConfigParser.hpp</a></li>
<li>config/<a class="el" href="ConfigParser_8cpp_source.html">ConfigParser.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classConfigParser.html">ConfigParser</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
